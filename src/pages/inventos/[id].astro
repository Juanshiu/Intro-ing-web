---
import Layout from '@/layouts/Layout.astro';
import inventosData from '@/data/inventos.json';
import Boton from '@/components/Boton.astro';

export async function getStaticPaths() {
  return inventosData.map((invento, index) => ({
    params: { id: index.toString() },
    props: { invento }
  }));
}

const { invento } = Astro.props;
---

<Layout title={invento.title}>
    <main class="min-h-screen text-white">
        <!-- Hero Section -->
        <section class="relative h-[60vh] overflow-hidden">
            <img 
                src={invento.thumbnail} 
                alt={invento.title}
                class="w-full h-full object-cover opacity-50"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"></div>
            <div class="absolute -bottom-16 sm:bottom-0 left-0 right-0 p-8 md:p-16">
                <div class="max-w-7xl">
                    <h1 class="text-4xl md:text-6xl font-bold mb-4">{invento.title}</h1>
                    <p class="text-xl md:text-2xl text-gray-300 max-w-3xl">{invento.description}</p>
                </div>
            </div>
        </section>

        <!-- Content Section -->
        <section class="max-w-7xl mx-auto px-8 py-16">
            <!-- Creator Info -->
            <article class="mb-12">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-red-400">Creador</h2>
                <div class="flex flex-col md:flex-row gap-8 items-center justify-between">
                    <span class="text-3xl md:text-5xl lg:text-7xl text-wrap font-semibold text-gray-300 flex-1">{invento.creator}</span>
                    <a href={invento.link} target="_blank" class="relative w-full md:w-96 h-auto shrink-0 isolate">
                        <div class="absolute inset-0 -z-10">
                            <img src={invento.photo} class="w-full h-full object-cover blur-lg scale-105" alt="">
                        </div>
                        <img src={invento.photo} class="relative w-full h-auto object-contain rounded-lg hover:scale-105 transition-transform" alt={invento.creator}>
                    </a>
                </div>
            </article>

            <!-- Purpose -->
            <article class="mb-12">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-blue-400">Propósito</h2>
                <p class="text-lg text-gray-300 leading-relaxed">{invento.purpose}</p>
            </article>

            <!-- Additional Info -->
            <article class="mb-12 bg-gradient-to-br from-blue-900/30 to-purple-900/30 rounded-lg p-8 border border-blue-500/30">
                <!-- <h2 class="text-2xl md:text-3xl font-bold mb-4 text-blue-400">Información Adicional</h2> -->
                <p class="text-lg text-gray-300 leading-relaxed">{invento.additionalInfo}</p>
            </article>

            <!-- Impact -->
            <article class="mb-12">
                <h2 class="text-2xl md:text-3xl font-bold mb-4 text-green-400">Impacto</h2>
                <p class="text-lg text-gray-300 leading-relaxed">{invento.impact}</p>
            </article>

            <!-- Back Button -->
            <article class="mt-16 text-center">
                <!-- <a 
                    href="/inventos" 
                    class="inline-block px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-semibold transition-all duration-300 transform hover:scale-105"
                >
                    ← Volver a Inventos
                </a> -->
                <Boton link="/inventos" />
            </article>
        </section>
    </main>
</Layout>

<style>
  main {
    font-family: system-ui, -apple-system, sans-serif;
  }
</style>
